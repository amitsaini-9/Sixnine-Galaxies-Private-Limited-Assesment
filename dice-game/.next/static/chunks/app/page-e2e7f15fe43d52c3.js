(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2318:(e,t,s)=>{Promise.resolve().then(s.bind(s,9944))},9944:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(5155),l=s(2115);function r(e){let{isAuto:t,onModeChange:s}=e;return(0,a.jsxs)("div",{className:"inline-flex rounded-full bg-gray-800 p-1",children:[(0,a.jsx)("button",{className:"rounded-full px-6 py-2 transition-all ".concat(t?"text-gray-400":"bg-gray-700 text-white"),onClick:()=>s(!1),children:"Manual"}),(0,a.jsx)("button",{className:"rounded-full px-6 py-2 transition-all ".concat(t?"bg-gray-700 text-white":"text-gray-400"),onClick:()=>s(!0),children:"Auto"})]})}function n(e){let{value:t,maxBet:s,onChange:l,onBet:r,disabled:n,isAuto:i=!1,isAutoRunning:c=!1}=e,o=e=>{(parseFloat(e)||0)<=s&&l(e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Bet Amount"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("span",{className:"text-gray-400",children:"₹"})}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>o(e.target.value),className:"w-full rounded-md bg-gray-800 p-3 pl-8 text-white",disabled:n,placeholder:"0.00"}),(0,a.jsxs)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>o((parseFloat(t)/2).toFixed(2)),className:"text-gray-400 hover:text-white px-2",disabled:n,children:"\xbd"}),(0,a.jsx)("span",{className:"text-gray-600",children:"|"}),(0,a.jsx)("button",{onClick:()=>o((2*parseFloat(t)).toFixed(2)),className:"text-gray-400 hover:text-white px-2",disabled:n,children:"2\xd7"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Profit on Win"}),(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:(0,a.jsx)("span",{className:"text-gray-400",children:"₹"})}),(0,a.jsx)("input",{type:"text",value:(2*(parseFloat(t)||0)).toFixed(2),className:"w-full rounded-md bg-gray-800 p-3 pl-8 text-white",disabled:!0,readOnly:!0})]})]}),(0,a.jsx)("button",{onClick:r,disabled:n||c||0>=parseFloat(t),className:"w-full rounded-md py-3 font-medium transition-all\n          ".concat(n||c||0>=parseFloat(t)?"bg-gray-600 cursor-not-allowed":"bg-[#4ADE80] hover:bg-[#4ADE80]/90"),children:c?"Auto Betting...":i?"Start Auto Bet":"Bet"})]})}function i(e){let{currentRoll:t,isRolling:s,previousRolls:l}=e;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex justify-end gap-2",children:l.map((e,t)=>(0,a.jsx)("div",{className:"rounded-full bg-[#4ADE80] px-4 py-2 font-medium",children:e.toFixed(2)},t))}),(0,a.jsxs)("div",{className:"relative pt-8 pb-16",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[(0,a.jsx)("span",{children:"0"}),(0,a.jsx)("span",{children:"25"}),(0,a.jsx)("span",{children:"50"}),(0,a.jsx)("span",{children:"75"}),(0,a.jsx)("span",{children:"100"})]}),(0,a.jsxs)("div",{className:"h-2 w-full rounded-full overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute h-full bg-red-500",style:{width:"50%"}}),(0,a.jsx)("div",{className:"absolute h-full bg-[#4ADE80]",style:{left:"50%",right:0}})]}),(0,a.jsx)("div",{className:"absolute -translate-x-1/2 transition-all duration-300",style:{left:"".concat(t,"%"),top:"50%"},children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-2 shadow-lg transform -translate-y-1/2\n            ".concat(s?"animate-pulse":""," text-black"),children:s?"...":t.toFixed(2)})})]})]})}function c(e){let{multiplier:t,rollOver:s,winChance:l}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"rounded-md bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Multiplier"}),(0,a.jsxs)("div",{className:"font-medium",children:[t.toFixed(4)," X"]})]}),(0,a.jsxs)("div",{className:"rounded-md bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Roll Over"}),(0,a.jsx)("div",{className:"font-medium",children:s.toFixed(2)})]}),(0,a.jsxs)("div",{className:"rounded-md bg-gray-800 p-3",children:[(0,a.jsx)("div",{className:"text-gray-400 text-sm",children:"Win Chance"}),(0,a.jsxs)("div",{className:"font-medium",children:[l.toFixed(4)," %"]})]})]})}var o=s(3464);let d="http://localhost:5002/api",u={createPlayer:async()=>(await o.A.post("".concat(d,"/players"))).data.player,getBalance:async e=>(await o.A.get("".concat(d,"/players/").concat(e,"/balance"))).data.balance,rollDice:async(e,t)=>(await o.A.post("".concat(d,"/game/roll-dice"),{playerId:e,betAmount:t})).data};var x=s(3568);function m(e){let{settings:t,onChange:s,isRunning:l,onStop:r,betsCompleted:n,totalProfit:i}=e,c=(e,a)=>{let l=parseFloat(a)||0;s({...t,[e]:l})};return(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Number of Bets"}),(0,a.jsx)("input",{type:"number",min:"1",step:"1",value:t.numberOfBets,onChange:e=>c("numberOfBets",e.target.value),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Stop on Profit"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.stopOnProfit,onChange:e=>c("stopOnProfit",e.target.value),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Stop on Loss"}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",value:t.stopOnLoss,onChange:e=>c("stopOnLoss",e.target.value),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"On Win"}),(0,a.jsxs)("select",{value:t.onWin,onChange:e=>s({...t,onWin:e.target.value}),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l,children:[(0,a.jsx)("option",{value:"reset",children:"Reset"}),(0,a.jsx)("option",{value:"increase",children:"Increase"}),(0,a.jsx)("option",{value:"decrease",children:"Decrease"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"On Loss"}),(0,a.jsxs)("select",{value:t.onLoss,onChange:e=>s({...t,onLoss:e.target.value}),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l,children:[(0,a.jsx)("option",{value:"reset",children:"Reset"}),(0,a.jsx)("option",{value:"increase",children:"Increase"}),(0,a.jsx)("option",{value:"decrease",children:"Decrease"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Win Multiplier"}),(0,a.jsx)("input",{type:"number",min:"1",step:"0.01",value:t.winMultiplier,onChange:e=>c("winMultiplier",e.target.value),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm text-gray-400",children:"Loss Multiplier"}),(0,a.jsx)("input",{type:"number",min:"1",step:"0.01",value:t.lossMultiplier,onChange:e=>c("lossMultiplier",e.target.value),className:"w-full bg-gray-700 rounded p-2 mt-1 text-white",disabled:l})]})]}),l&&(0,a.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-white",children:[(0,a.jsx)("span",{children:"Progress:"}),(0,a.jsxs)("span",{children:[n," / ",t.numberOfBets]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-white",children:[(0,a.jsx)("span",{children:"Total Profit:"}),(0,a.jsxs)("span",{className:i>=0?"text-green-500":"text-red-500",children:["$",i.toFixed(2)]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-[#4ADE80] transition-all duration-300",style:{width:"".concat(n/t.numberOfBets*100,"%")}})}),(0,a.jsx)("button",{onClick:r,className:"w-full bg-red-500 hover:bg-red-600 rounded-md py-2 mt-2 text-white",children:"Stop Auto Betting"})]})]})}function p(){let[e,t]=(0,l.useState)(null),[s,o]=(0,l.useState)(1e3),[d,p]=(0,l.useState)("0.00"),[h,g]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[j,f]=(0,l.useState)(50),[v,N]=(0,l.useState)([]),[w,A]=(0,l.useState)({numberOfBets:0,stopOnProfit:0,stopOnLoss:0,onWin:"reset",onLoss:"reset",winMultiplier:2,lossMultiplier:2}),[F,O]=(0,l.useState)(!1),[B,C]=(0,l.useState)(0),[M,S]=(0,l.useState)(0),P=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("playerId");if(e){t(e);let s=await u.getBalance(e);o(s),x.Ay.success("Welcome back!")}else{let e=await u.createPlayer();t(e.id),o(e.balance),localStorage.setItem("playerId",e.id),x.Ay.success("New player created!")}}catch(e){console.error("Failed to initialize player:",e),x.Ay.error("Failed to initialize player. Please refresh the page.")}})()},[]);let R=async()=>{if(b||!e||0>=parseFloat(d))throw Error("Invalid bet conditions");let t=x.Ay.loading("Rolling dice...");try{y(!0);let s=await u.rollDice(e,parseFloat(d));return f(s.roll),N(e=>[s.roll,...e].slice(0,3)),o(s.newBalance),s.isWin?x.Ay.success("Won $".concat(s.profit.toFixed(2),"! Roll: ").concat(s.roll.toFixed(2)),{id:t}):x.Ay.error("Lost $".concat(Math.abs(s.profit).toFixed(2),". Roll: ").concat(s.roll.toFixed(2)),{id:t}),s}catch(e){throw console.error("Bet failed:",e),x.Ay.error("Bet failed. Please try again.",{id:t}),e}finally{y(!1)}},L=()=>{P.current&&(clearInterval(P.current),P.current=null),O(!1),x.Ay.success("Auto-betting stopped")};(0,l.useEffect)(()=>()=>{P.current&&clearInterval(P.current)},[]),(0,l.useEffect)(()=>{!h&&F&&L()},[h]);let W=async()=>{try{await R()}catch(e){console.error("Manual bet failed:",e)}};return(0,a.jsx)("main",{className:"min-h-screen bg-[#1a1b23] p-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)(r,{isAuto:h,onModeChange:e=>{g(e),!e&&F&&L(),x.Ay.success(e?"Auto mode enabled":"Manual mode enabled")}}),(0,a.jsxs)("div",{className:"text-white",children:["Balance: $",s.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(n,{value:d,maxBet:s,onChange:e=>{if((parseFloat(e)||0)>s){x.Ay.error("Insufficient balance!");return}p(e)},onBet:h?()=>{if(!e||F||w.numberOfBets<=0){x.Ay.error("Please set number of bets greater than 0");return}O(!0),C(0),S(0);let t=async()=>{if(B>=w.numberOfBets){L(),x.Ay.success("Completed ".concat(w.numberOfBets," bets"));return}try{let e=await R();C(e=>{let t=e+1;return t>=w.numberOfBets&&(L(),x.Ay.success("Completed ".concat(w.numberOfBets," bets"))),t}),S(t=>{let s=t+e.profit;return s>=w.stopOnProfit?(L(),x.Ay.success("Reached profit target: $".concat(s.toFixed(2)))):-s>=w.stopOnLoss&&(L(),x.Ay.error("Reached loss limit: $".concat((-s).toFixed(2)))),s}),e.isWin?"increase"===w.onWin?p(e=>(parseFloat(e)*w.winMultiplier).toFixed(2)):"decrease"===w.onWin&&p(e=>(parseFloat(e)/w.winMultiplier).toFixed(2)):"increase"===w.onLoss?p(e=>(parseFloat(e)*w.lossMultiplier).toFixed(2)):"decrease"===w.onLoss&&p(e=>(parseFloat(e)/w.lossMultiplier).toFixed(2))}catch(e){console.error("Auto-bet failed:",e),L(),x.Ay.error("Auto-betting stopped due to an error")}};t(),P.current=setInterval(t,2e3)}:W,disabled:b||!e,isAuto:h,isAutoRunning:F}),h&&(0,a.jsx)(m,{settings:w,onChange:A,isRunning:F,onStop:L,betsCompleted:B,totalProfit:M}),(0,a.jsx)(i,{currentRoll:j,isRolling:b,previousRolls:v}),(0,a.jsx)(c,{multiplier:2,rollOver:50.5,winChance:49.5})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[568,464,441,684,358],()=>t(2318)),_N_E=e.O()}]);